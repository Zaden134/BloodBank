@model BloodBank.Models.RegisterViewModel
@{
    ViewBag.Title = "Đăng ký tài khoản";
}

<div class="container mt-5" style="max-width: 400px;">
    <h3 class="text-center mb-4">🩸 Đăng ký tài khoản</h3>

    @* Hiển thị lỗi model state *@
    @if (!ViewData.ModelState.IsValid)
    {
        <div class="alert alert-danger">
            @Html.ValidationSummary(true)
        </div>
    }

    @using (Html.BeginForm("Register", "Account", FormMethod.Post))
    {
        @Html.AntiForgeryToken() <!-- CSRF token -->

        <div class="form-group mb-3">
            @Html.LabelFor(m => m.Ten)
            @Html.TextBoxFor(m => m.Ten, new { @class = "form-control", required = "required" })
            @Html.ValidationMessageFor(m => m.Ten, "", new { @class = "text-danger" })
        </div>

        <div class="form-group mb-3">
            @Html.LabelFor(m => m.Email)
            @Html.TextBoxFor(m => m.Email, new { @class = "form-control", type = "email", required = "required" })
            @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger" })
        </div>

        <div class="form-group mb-3">
            @Html.LabelFor(m => m.Password)
            @Html.PasswordFor(m => m.Password, new { @class = "form-control", required = "required" })
            @Html.ValidationMessageFor(m => m.Password, "", new { @class = "text-danger" })
        </div>

        <div class="form-group mb-3">
            @Html.LabelFor(m => m.SDT)
            @Html.TextBoxFor(m => m.SDT, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.SDT, "", new { @class = "text-danger" })
        </div>

        <div class="form-group mb-3">
            @Html.LabelFor(m => m.Role)
            @Html.DropDownListFor(
                m => m.Role,
                new SelectList(new[] { "NGƯỜI HIẾN", "BỆNH VIỆN", "NV NGÂN HÀNG MÁU" }),
                "Chọn vai trò",
                new { @class = "form-control", required = "required" })
            @Html.ValidationMessageFor(m => m.Role, "", new { @class = "text-danger" })
        </div>

        <button type="submit" class="btn btn-primary w-100">Đăng ký</button>
    }

    <p class="text-center mt-3">
        Đã có tài khoản? <a href="/Account/Login">Đăng nhập</a>
    </p>
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
